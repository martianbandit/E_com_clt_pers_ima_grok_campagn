{% macro social_share_buttons(campaign_title='', campaign_description='', campaign_image_url='', current_url='') %}
<div class="social-share-container">
    <div class="social-share-header">
        <h5 class="mb-2">
            <i class="fas fa-share-alt me-2" style="color: #ff6b35;"></i>{{ _('Exporter et partager cette campagne') }}
        </h5>
        <p class="text-muted small">{{ _('Utilisez ces boutons pour publier votre campagne sur vos réseaux sociaux favoris') }}</p>
    </div>
    
    <div class="social-buttons">
        <!-- Facebook -->
        <a href="https://www.facebook.com/sharer/sharer.php?u={{ current_url }}&quote={{ campaign_title }}" 
           target="_blank" 
           class="social-button facebook-share" 
           data-toggle="tooltip" 
           title="{{ _('Partager sur Facebook') }}">
            <i class="fab fa-facebook-f" style="color: #cc4a28;"></i>
            <span>Facebook</span>
        </a>
        
        <!-- Twitter/X -->
        <a href="https://twitter.com/intent/tweet?text={{ campaign_title }}&url={{ current_url }}" 
           target="_blank" 
           class="social-button twitter-share" 
           data-toggle="tooltip" 
           title="{{ _('Partager sur Twitter/X') }}">
            <i class="fab fa-twitter" style="color: #cc4a28;"></i>
            <span>Twitter</span>
        </a>
        
        <!-- LinkedIn -->
        <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ current_url }}&title={{ campaign_title }}&summary={{ campaign_description }}" 
           target="_blank" 
           class="social-button linkedin-share" 
           data-toggle="tooltip" 
           title="{{ _('Partager sur LinkedIn') }}">
            <i class="fab fa-linkedin-in" style="color: #cc4a28;"></i>
            <span>LinkedIn</span>
        </a>
        
        <!-- Pinterest (pour les images) -->
        <a href="https://pinterest.com/pin/create/button/?url={{ current_url }}&media={{ campaign_image_url }}&description={{ campaign_title }}" 
           target="_blank" 
           class="social-button pinterest-share" 
           data-toggle="tooltip" 
           title="{{ _('Épingler sur Pinterest') }}">
            <i class="fab fa-pinterest-p" style="color: #cc4a28;"></i>
            <span>Pinterest</span>
        </a>
        
        <!-- Reddit -->
        <a href="https://www.reddit.com/submit?url={{ current_url }}&title={{ campaign_title }}" 
           target="_blank" 
           class="social-button reddit-share" 
           data-toggle="tooltip" 
           title="{{ _('Partager sur Reddit') }}">
            <i class="fab fa-reddit-alien" style="color: #cc4a28;"></i>
            <span>Reddit</span>
        </a>
        
        <!-- Bouton de copie du lien -->
        <button class="social-button copy-link" data-url="{{ current_url }}" data-toggle="tooltip" title="{{ _('Copier le lien') }}">
            <i class="fas fa-link" style="color: #cc4a28;"></i>
            <span>{{ _('Copier') }}</span>
        </button>
    </div>
    
    <!-- Exportation en différents formats -->
    <div class="export-options mt-3">
        <h6 class="text-muted small mb-2" style="color: #ff6b35 !important;">{{ _('Exporter en') }}:</h6>
        <div class="btn-group btn-group-sm">
            <button class="btn btn-outline-warning export-pdf" style="border-color: #ff6b35; color: #ff6b35;">
                <i class="far fa-file-pdf me-1" style="color: #cc4a28;"></i> PDF
            </button>
            <button class="btn btn-outline-warning export-image" style="border-color: #ff6b35; color: #ff6b35;">
                <i class="far fa-file-image me-1" style="color: #cc4a28;"></i> {{ _('Image') }}
            </button>
            <button class="btn btn-outline-warning export-text" style="border-color: #ff6b35; color: #ff6b35;">
                <i class="far fa-file-alt me-1" style="color: #cc4a28;"></i> {{ _('Texte') }}
            </button>
            <button class="btn btn-outline-warning export-html" style="border-color: #ff6b35; color: #ff6b35;">
                <i class="fas fa-code me-1" style="color: #cc4a28;"></i> HTML
            </button>
        </div>
    </div>
</div>

<style>
    .social-share-container {
        background: linear-gradient(135deg, #1a1a1a, #2d2d2d);
        border: 1px solid #ff6b35;
        border-radius: 12px;
        padding: 1.5rem;
        margin: 1.5rem 0;
        box-shadow: 0 4px 15px rgba(255, 107, 53, 0.1);
    }
    
    .social-share-header h5 {
        color: #ff6b35;
        font-weight: 600;
    }
    
    .social-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        margin-top: 1rem;
    }
    
    .social-button {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        border-radius: 50px;
        color: white;
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        min-width: 120px;
    }
    
    .social-button i {
        font-size: 1.1rem;
    }
    
    .social-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(255, 107, 53, 0.3);
        filter: brightness(1.15);
    }
    
    .facebook-share {
        background: linear-gradient(135deg, #ff6b35, #ff8c42);
        border: 1px solid #cc4a28;
    }
    
    .twitter-share {
        background: linear-gradient(135deg, #ff6b35, #ff8c42);
        border: 1px solid #cc4a28;
    }
    
    .linkedin-share {
        background: linear-gradient(135deg, #ff6b35, #ff8c42);
        border: 1px solid #cc4a28;
    }
    
    .pinterest-share {
        background: linear-gradient(135deg, #ff6b35, #ff8c42);
        border: 1px solid #cc4a28;
    }
    
    .reddit-share {
        background: linear-gradient(135deg, #ff6b35, #ff8c42);
        border: 1px solid #cc4a28;
    }
    
    .copy-link {
        background: linear-gradient(135deg, #6c757d, #868e96);
        border: 1px solid #495057;
    }
    
    .copy-link.copied {
        background: linear-gradient(135deg, #28a745, #34ce57);
        border: 1px solid #1e7e34;
    }
    
    /* Effet WOW avec animation */
    @keyframes socialPulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.08); }
        100% { transform: scale(1); }
    }
    
    .social-button:hover i {
        animation: socialPulse 0.5s ease;
    }
    
    /* Ajout d'une légère animation sur hover pour les boutons d'export */
    .export-options .btn:hover {
        transform: translateY(-2px);
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(255, 107, 53, 0.25);
        background: linear-gradient(135deg, #ff6b35, #ff8c42) !important;
        color: white !important;
        border-color: #cc4a28 !important;
    }
    
    .export-options .btn:hover i {
        color: #cc4a28 !important;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialiser les tooltips Bootstrap
        try {
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="tooltip"]'));
            if (typeof bootstrap !== 'undefined' && bootstrap.Tooltip) {
                tooltipTriggerList.forEach(function (tooltipTriggerEl) {
                    new bootstrap.Tooltip(tooltipTriggerEl);
                });
            }
        } catch (e) {
            console.log('Erreur initialisation tooltips:', e);
        }
        
        // Fonctionnalité pour copier le lien
        const copyLinkBtn = document.querySelector('.copy-link');
        if (copyLinkBtn) {
            copyLinkBtn.addEventListener('click', function() {
                const url = this.getAttribute('data-url');
                
                // Créer un élément de texte temporaire
                const tempInput = document.createElement('input');
                tempInput.value = url;
                document.body.appendChild(tempInput);
                
                // Sélectionner et copier le texte
                tempInput.select();
                document.execCommand('copy');
                
                // Supprimer l'élément temporaire
                document.body.removeChild(tempInput);
                
                // Mettre à jour le texte et l'apparence du bouton
                const originalText = this.innerHTML;
                this.classList.add('copied');
                this.innerHTML = '<i class="fas fa-check"></i><span>{{ _("Copié !") }}</span>';
                
                // Restaurer l'état initial après 2 secondes
                setTimeout(() => {
                    this.classList.remove('copied');
                    this.innerHTML = originalText;
                }, 2000);
            });
        }
        
        // Fonctionnalités d'exportation (à implémenter)
        document.querySelector('.export-pdf')?.addEventListener('click', function() {
            alert('{{ _("Exportation PDF en cours de développement") }}');
        });
        
        document.querySelector('.export-image')?.addEventListener('click', function() {
            alert('{{ _("Exportation Image en cours de développement") }}');
        });
        
        document.querySelector('.export-text')?.addEventListener('click', function() {
            alert('{{ _("Exportation Texte en cours de développement") }}');
        });
        
        document.querySelector('.export-html')?.addEventListener('click', function() {
            alert('{{ _("Exportation HTML en cours de développement") }}');
        });
    });
</script>
{% endmacro %}